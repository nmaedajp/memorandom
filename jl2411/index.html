<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/memorandom/libs/katex/katex.min.css"> <link rel=stylesheet  href="/memorandom/libs/highlight/styles/github.min.css"> <link href="/memorandom/css/franklin.css" rel=stylesheet > <link href="/memorandom/css/vela.css" rel=stylesheet > <script src="/memorandom/libs/vela/jquery.min.js"></script> <link rel=icon  href="/memorandom/assets/favicon.png"> <title>Memorandom | Naoki Maeda</title> <div class="main-nav slideout-menu slideout-menu-left" id=menu > <div class=flex-container > <span class=sidebar-brand > <h3 style='font-size: 25px'>Vela Template</h3> </span> </div> <nav class=sidebar-nav > <ul class=metismenu  id=metismenu  > <li><a href="/memorandom/index.html">Home</a> <li><a href="" class=has-arrow >julia</a> <ul> <li><a href="/memorandom/jl2411/">2024年11月</a> </ul> <li><a href="" class=has-arrow >GMT</a> <ul> <li><a href="/memorandom/gmt2412/">2024年12月</a> <li><a href="/memorandom/gmt2411/">2024年11月</a> </ul> <li><a href="" class=has-arrow >LaTeX</a> <ul> <li><a href="/memorandom/tex2412/">2024年12月</a> </ul> <li><a href="" class=has-arrow >Memo</a> <ul> <li><a href="/memorandom/memo2412/">2024年12月</a> </ul> <li><a href="/memorandom/tags/">Tags</a> </ul> </nav> </div> <main id=panel  class="slidout-panel slideout-panel-left"> <div class="toggle-button hamburger hamburger--spin"> <div class=hamburger-box > <div class=hamburger-inner ></div> </div> </div> <h1 class="page title">julia 202411</h1> <hr> <div class=franklin-content > <div class=franklin-toc ><ol><li><a href="#20241126">20241126</a><ol><li><a href="#reshape">reshape</a><li><a href="#行列のコピー">行列のコピー</a><li><a href="#splitと文字列操作">splitと文字列操作</a><li><a href="#round">round</a></ol><li><a href="#20241125">20241125</a><ol><li><a href="#printf">Printf</a><ol><li><a href="#sprintf">@sprintf</a></ol></ol></ol></div> <h1 id=20241126 ><a href="#20241126" class=header-anchor >20241126</a></h1> <h2 id=reshape ><a href="#reshape" class=header-anchor >reshape</a></h2> <ul> <li><p>あまり使ったことがなかった．</p> <li><p>縦のものを横にする．</p> </ul> <pre><code class="julia hljs">x = [<span class=hljs-number >1</span>,<span class=hljs-number >2</span>,<span class=hljs-number >3</span>,<span class=hljs-number >4</span>,<span class=hljs-number >5</span>,<span class=hljs-number >6</span>]
y = reshape(x, <span class=hljs-number >1</span>,<span class=hljs-number >6</span>)
<span class=hljs-meta >@show</span> x
<span class=hljs-meta >@show</span> y</code></pre> <pre><code class="plaintext hljs">x = [1, 2, 3, 4, 5, 6]
y = [1 2 3 4 5 6]
</code></pre> <ul> <li><p>x には，コンマが入っている．縦（6×1）</p> <li><p>y には，コンマが入っていない．横（1×6）</p> </ul> <ul> <li><p>わざわざ<code>reshape</code>を使わなくとも，この場合，転置で良いことに気がついた．&#40;20241128追記&#41;</p> </ul> <pre><code class="julia hljs">x = [<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>, <span class=hljs-number >4</span>, <span class=hljs-number >5</span>, <span class=hljs-number >6</span>]
y = x&#x27;
<span class=hljs-meta >@show</span> x
<span class=hljs-meta >@show</span> y</code></pre> <pre><code class="plaintext hljs">x = [1, 2, 3, 4, 5, 6]
y = [1 2 3 4 5 6]
</code></pre> <h2 id="行列のコピー"><a href="#行列のコピー" class=header-anchor >行列のコピー</a></h2> <p>上の例では，<code>x</code> の転置を <code>y</code> に代入している． したがって，アドレスのみを渡されて，メモリの同じ位置を占めているかもしれない．</p> <pre><code class="julia hljs">x = [<span class=hljs-number >1</span>,<span class=hljs-number >2</span>,<span class=hljs-number >3</span>,<span class=hljs-number >4</span>,<span class=hljs-number >5</span>,<span class=hljs-number >6</span>]
y = x&#x27;
y[<span class=hljs-number >1</span>] = <span class=hljs-number >4</span>
<span class=hljs-meta >@show</span> x</code></pre> <pre><code class="plaintext hljs">x = [4, 2, 3, 4, 5, 6]
</code></pre> <pre><code class="julia hljs">x = [<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>, <span class=hljs-number >4</span>, <span class=hljs-number >5</span>, <span class=hljs-number >6</span>]
y = reshape(x, <span class=hljs-number >1</span>, <span class=hljs-number >6</span>)
y[<span class=hljs-number >1</span>] = <span class=hljs-number >4</span>
<span class=hljs-meta >@show</span> x</code></pre> <pre><code class="plaintext hljs">x = [4, 2, 3, 4, 5, 6]
</code></pre> <ul> <li><p><code>y&#91;1&#93;</code> に <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >4</span></span></span></span> を代入すると，<code>x&#91;1&#93;</code> の値も <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >4</span></span></span></span> となる．</p> <li><p>結果として，<code>y &#61; x&#39;</code>，<code>y &#61; reshape&#40;x, 1, 6&#41;</code> のどちらでも，アドレスのみが渡され，<code>x</code> と <code>y</code> のメモリ上の位置は同じである．</p> </ul> <h2 id="splitと文字列操作"><a href="#splitと文字列操作" class=header-anchor >splitと文字列操作</a></h2> <ul> <li><p><code>&#91;&quot;181007-104335_UG_pk1.CSV&quot;, &quot;181022-121636_UG_K10_5.CSV&quot;&#93;</code>を<code>split</code>で分けて，</p> </ul> <p><code>pk1</code>，<code>K10_5</code>を取り出す．</p> <pre><code class="julia hljs">s = [<span class=hljs-string >&quot;181007-104335_UG_pk1.CSV&quot;</span>, <span class=hljs-string >&quot;181022-121636_UG_K10_5.CSV&quot;</span>]
ss = split.(s, <span class=hljs-string >&#x27;.&#x27;</span>)
ss1 = [ss[i][<span class=hljs-number >1</span>][<span class=hljs-number >18</span>:<span class=hljs-keyword >end</span>] <span class=hljs-keyword >for</span> i = <span class=hljs-number >1</span>:length(ss)]
<span class=hljs-meta >@show</span> ss1</code></pre> <pre><code class="plaintext hljs">ss1 = SubString{String}[&quot;pk1&quot;, &quot;K10_5&quot;]
</code></pre> <div class=date >&#40;20241206追記&#41;</div> <ul> <li><p>ここでは，<code>length</code>ではなく，<code>eachindex</code>を使えと，<code>VSCode</code>に言われた．</p> </ul> <pre><code class="julia hljs">s = [<span class=hljs-string >&quot;181007-104335_UG_pk1.CSV&quot;</span>, <span class=hljs-string >&quot;181022-121636_UG_K10_5.CSV&quot;</span>]
ss = split.(s, <span class=hljs-string >&#x27;.&#x27;</span>)
ss1 = [ss[i][<span class=hljs-number >1</span>][<span class=hljs-number >18</span>:<span class=hljs-keyword >end</span>] <span class=hljs-keyword >for</span> i <span class=hljs-keyword >in</span> eachindex(ss)]
<span class=hljs-meta >@show</span> ss1</code></pre> <pre><code class="plaintext hljs">ss1 = SubString{String}[&quot;pk1&quot;, &quot;K10_5&quot;]
</code></pre> <h2 id=round ><a href="#round" class=header-anchor >round</a></h2> <ul> <li><p>round を用いて，四捨五入し，値を表示させると，下の方の桁が <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6444em;"></span><span class=mord >0</span></span></span></span> になった場合，数字が表示されない．</p> </ul> <pre><code class="julia hljs">x = [<span class=hljs-number >4.3452198</span>, <span class=hljs-number >5.564578</span>, <span class=hljs-number >4.2004346</span>]
x_r = round.(x, digits=<span class=hljs-number >3</span>)
<span class=hljs-meta >@show</span> x_r</code></pre> <pre><code class="plaintext hljs">x_r = [4.345, 5.565, 4.2]
</code></pre> <ul> <li><p>表として使いたいときのように，桁をそろえたいときは，昨日記載したように，<code>@sprintf</code>を用いる．</p> <li><p>（他に手立てはないだろうか．．）</p> </ul> <h1 id=20241125 ><a href="#20241125" class=header-anchor >20241125</a></h1> <h2 id=printf ><a href="#printf" class=header-anchor >Printf</a></h2> <h3 id=sprintf ><a href="#sprintf" class=header-anchor >@sprintf</a></h3> <ul> <li><p>フォーマットを指定して，数値を文字列に変換する．</p> </ul> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Printf
x = <span class=hljs-number >4.3452198</span>
moji = <span class=hljs-meta >@sprintf</span>(<span class=hljs-string >&quot;%0.3f&quot;</span>, x)
<span class=hljs-meta >@show</span> moji</code></pre> <pre><code class="plaintext hljs">moji = &quot;4.345&quot;
</code></pre> <ul> <li><p>配列を文字列の配列にする．</p> </ul> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Printf
x = [<span class=hljs-number >4.3452198</span>, <span class=hljs-number >5.564578</span>, <span class=hljs-number >4.2004346</span>]
n = length(x)
moji = [<span class=hljs-meta >@sprintf</span>(<span class=hljs-string >&quot;%0.3f&quot;</span>, x[i]) <span class=hljs-keyword >for</span> i = <span class=hljs-number >1</span>:n]
<span class=hljs-meta >@show</span> moji</code></pre> <pre><code class="plaintext hljs">moji = [&quot;4.345&quot;, &quot;5.565&quot;, &quot;4.200&quot;]
</code></pre> <div class=migi ><a href="/memorandom/">Home</a></div> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Naoki Maeda. Last modified: December 08, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </main> <script src="/memorandom/libs/vela/metisMenu.min.js"></script> <script src="/memorandom/libs/vela/slideout.min.js"></script> <script src="/memorandom/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>